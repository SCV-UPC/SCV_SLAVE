import Pyro4
import os

from subprocess import check_output
IP=check_output(['hostname', '-I'])
IP=IP.strip()



class multipleMicrophones():
	"""
	Aquesta classe indica si ja s'ha detectat jasper a algun altre lloc o no
	permeten aixi tenir diferents maquines corrent jasper.py sense duplicar-se
	a un mateix instant. Es asincron de moment. Temps de possible conflictivitat
	de menys de 0,01s.
	"""

	def __init__(self):
	
		self.indicadora=1

	def valor_actual(self):

		return self.indicadora

	def modifica(self,numero):
		
		self.indicadora=numero

multipleMicrophones=multipleMicrophones()

Pyro4.Daemon.serveSimple({multipleMicrophones:"jasper.multipleMicrophones"},port=5161,host=IP,ns=False)
